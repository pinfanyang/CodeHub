%变位后理论值和实际值相比较
clc;clear;
v1=[
1.01 1.0583 1.118 1.1675 1.2221 1.2791 1.3274 1.3825 1.4335 1.4849 1.536 1.5918 ...
1.6451 1.6973 1.7498 1.7966 1.8487 1.9 1.9527 1.9991 2.0526 2.1032 2.1484 2.2022 ...
2.2527 2.3037 2.3521 2.4027 2.4522 2.4978 2.5486 2.5995 2.6446 2.6962 2.7488 ...
2.7988 2.8472 2.8958 2.942 2.9925 3.0441 3.0896 3.1408 3.1897 3.234 3.2841 ...
3.3345 3.379 3.4235 3.4731 3.5176 3.5694 3.5732];
v2=[0.9629 1.0129 1.0629 1.1129 1.1629 1.2129 1.2629 1.3128 1.3628 1.4127 1.4627 ...
1.5127 1.5627 1.6127 1.6627 1.7127 1.7627 1.8127 1.8627 1.9127 1.9627 2.0127 ...
2.0627 2.1127 2.1627 2.2127 2.2627 2.3127 2.3627 2.4127 2.4627 2.5127 2.5627 ...
2.6127 2.6627 2.7127 2.7627 2.8127 2.8627 2.9127 2.9627 3.0127 3.0627 3.1127 ...
3.1627 3.2127 3.2627 3.3127 3.3627 3.4127 3.4627 3.5127 3.5147 ];
h=[411.29 423.45 438.33 450.54 463.90 477.74 489.37 502.56 514.69 526.84 538.88 ...
551.96 564.40 576.56 588.74 599.56 611.62 623.44 635.58 646.28 658.59 670.22 ...
680.63 693.03 704.67 716.45 727.66 739.39 750.90 761.55 773.43 785.39 796.04 ...
808.27 820.80 832.80 844.47 856.29 867.60 880.06 892.92 904.34 917.34 929.90 ...
941.42 954.60 968.09 980.14 992.41 1006.34 1019.07 1034.24 1035.36];
h=h/1000;
s1=v1-v2;       %理论值和实际值的差值
s=(v1-v2)./v1.*100;  %相对误差

figure(1)
plot(h,s)
xlabel('油位高度h/m')
ylabel('相对差值百分比:%')
title('相对误差')
grid on

figure(2)
plot(h,s1)
xlabel('油位高度/m')
ylabel('储油量/m³')
title('理论值和实际值的差值范围')
grid on

figure(3)
plot(h,v1,'r.',h,v2,'b*')
xlabel('油位高度h/m')
ylabel('储油量V/m^3')
title('小椭圆储油罐变位后测量值和理论值对比图')
legend('测量值','理论值')
grid on